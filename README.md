# Интернет-магазин одежды - XWEAR

## Описание проекта

Добро пожаловать в README интернет-магазина одежды! Этот проект представляет собой полноценный веб-сервис для покупки одежды, созданный с использованием современных технологий и подходов к разработке. Проект включает в себя как клиентскую часть (frontend), так и серверную часть (backend).

Проект был разработан с целью изучения и практики различных аспектов веб-разработки, таких как работа с базами данных, авторизация пользователей, оптимизация запросов и использование современных инструментов для frontend и backend.

---

## Стек технологий

### Frontend:
- **React** — библиотека для создания пользовательского интерфейса.
- **Next.js** — фреймворк для React, обеспечивающий рендеринг на стороне сервера (SSR) и улучшенную производительность.
- **TypeScript** — язык программирования с статической типизацией, который помогает избежать ошибок на этапе разработки.
- **Tailwind CSS** — утилитарный CSS-фреймворк для быстрой и гибкой стилизации.
- **Ant Design** — библиотека компонентов UI для создания красивых и функциональных интерфейсов.
- **Redux Toolkit (RTK)** — инструмент для управления глобальным состоянием приложения.
- **RTK Query** — мощный инструмент для работы с API и кэширования данных.

### Backend:
- **Express.js** — минималистичный фреймворк для создания серверной части.
- **PostgreSQL** — мощная реляционная база данных для хранения данных пользователя и заказов.

---

## Возможности проекта

1. **Регистрация и авторизация пользователей**:
   - Реализован механизм регистрации и авторизации с использованием **JWT (JSON Web Tokens)**.
   - Использование **Access Token** для аутентификации запросов и **Refresh Token** для обновления Access Token.

2. **Оформление заказа**:
   - Пользователи могут добавлять товары в корзину и оформлять заказ.
   - Все данные о заказах сохраняются в базе данных.

3. **Минимизация количества запросов**:
   - Данные пользователя (например, информация о профиле, заказах) загружаются один раз и сохраняются в глобальном состоянии Redux для последующего использования без дополнительных запросов.

4. **Middleware**:
   - На стороне сервера реализованы middleware для проверки токенов и защиты маршрутов.

5. **Связи в базе данных**:
   - Реализованы связи между таблицами (например, пользователи и их заказы) для обеспечения целостности данных.

---

## Что было изучено/отработано

В процессе разработки этого проекта были изучены и отработаны следующие навыки:

1. **Работа с базами данных**:
   - Создание и управление связями между таблицами в PostgreSQL.
   - Оптимизация запросов для уменьшения времени ответа.

2. **Авторизация и аутентификация**:
   - Реализация механизма JWT с использованием Access и Refresh токенов.
   - Защита маршрутов с помощью middleware.

3. **Оптимизация клиентской части**:
   - Получение всех необходимых данных пользователя за один запрос и сохранение их в глобальном состоянии Redux.
   - Минимизация количества запросов к серверу для повышения производительности.

4. **Использование современных инструментов**:
   - Работа с RTK Query для эффективного взаимодействия с API.
   - Создание отзывчивого и красивого интерфейса с помощью Tailwind CSS и Ant Design.

---

## Установка и запуск проекта

### Требования:
- Node.js (версия 16 или выше)
- PostgreSQL
- npm, yarn, pnpm

### Шаги для установки:

1. **Клонирование репозитория**:
   ```bash
   git clone https://github.com/DiorSavage/fashion_store_fst.git
   cd fashion_store_fst

# Установка из package.json   
## Для frontend
```bash
cd frontend
npm install
```

## Для backend
```bash
cd ../backend
npm install
```

# **Настройка Базы данных**
### 1. В .env файле пропишите следующее
```env
PORT = '4444'
DB_PASSWORD = 'password_for_your_db'
JWT_ACCESS_SECRET = 'jwt-access-secret-key'
JWT_REFRESH_SECRET = 'jwt-refresh-secret-key'
CLIENT_HOST = 'http://localhost:3000'
SPECIAL_KEY_FOR_ADMIN = 'your_special_key'
```

### 2. В db.js
```js
const pool = new Pool({
	user: 'your_user_in_postgres',
	password: process.env.DB_PASSWORD,
	host: 'localhost',
	port: '<port_for_db(default = 5432)'>,
	database: 'name_for_db'
})
```
### 3. В базу данных перенесите все данные из dump
```bash
pg_restore -U your_username -d your_database_name path_to_your_dump.dump
```

# Финальный штрих
### 1. Проверьте, что вы запустили и frontend, и backend
### 2. Проверьте, что запущена PostgerSQL
### 3. Проверьте бд, после добавления данных из dump